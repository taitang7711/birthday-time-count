<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Counter üíó</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="stars"></div>
    <div class="hearts"></div>
    
    <div class="container">
        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-btn active" onclick="window.location.href='/modules/daily/daily.html'" data-tab="daily">
                <span class="tab-icon">üìÖ</span>
                <span class="tab-text">Daily</span>
            </button>
            <button class="tab-btn" onclick="window.location.href='/modules/birthday/birthday.html'" data-tab="birthday">
                <span class="tab-icon">üéÇ</span>
                <span class="tab-text">Birthday</span>
            </button>
        </div>

        <!-- Daily Tab Content -->
        <div class="tab-content active" id="daily-tab">
            <!-- Calendar Section -->
            <div class="calendar-section">
                <div class="calendar-header">
                    <button class="calendar-nav-btn" onclick="changeMonth(-1)">‚Äπ</button>
                    <h2 class="calendar-title" id="calendarTitle">12/2025</h2>
                    <button class="calendar-nav-btn" onclick="changeMonth(1)">‚Ä∫</button>
                </div>
                <div class="calendar-weekdays">
                    <div class="weekday">M</div>
                    <div class="weekday">T</div>
                    <div class="weekday">W</div>
                    <div class="weekday">T</div>
                    <div class="weekday">F</div>
                    <div class="weekday">S</div>
                    <div class="weekday">S</div>
                </div>
                <div class="calendar-days" id="calendarDays">
                    <!-- Days will be generated by JavaScript -->
                </div>
            </div>

            <!-- Mood Jar Section -->
            <div class="mood-jar-section">
                <div class="jar-container">
                    <svg class="mood-jar" viewBox="0 0 200 250" xmlns="http://www.w3.org/2000/svg">
                        <!-- Jar lid -->
                        <ellipse cx="100" cy="20" rx="85" ry="12" fill="#E8F3FF" opacity="0.9"/>
                        <rect x="15" y="15" width="170" height="10" rx="5" fill="#D5E8FF"/>
                        
                        <!-- Jar body -->
                        <path d="M 30 25 Q 30 30, 35 35 L 35 200 Q 35 220, 50 230 L 150 230 Q 165 220, 165 200 L 165 35 Q 170 30, 170 25 Z" 
                              fill="url(#jarGradient)" opacity="0.95"/>
                        
                        <!-- Jar shine effect -->
                        <ellipse cx="60" cy="80" rx="20" ry="40" fill="white" opacity="0.3"/>
                        
                        <!-- Gradient definition -->
                        <defs>
                            <linearGradient id="jarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#E8F3FF;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#F0F8FF;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#D5E8FF;stop-opacity:0.9" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Mood emoji inside jar -->
                        <text x="100" y="140" font-size="50" text-anchor="middle" id="jarMoodEmoji">üòä</text>
                    </svg>
                    <div class="jar-label" id="jarLabel">Pleasant</div>
                </div>
            </div>

            <!-- Mood Selector Section -->
            <div class="mood-selector-section">
                <div class="mood-date" id="moodDate">2025/12/04</div>
                <h3 class="mood-question">How's your mood today?</h3>
                <div class="mood-options">
                    <div class="mood-option" data-mood="1" data-name="Angry" onclick="selectMood(1, 'Angry', 'üò§')">
                        <div class="mood-emoji">üò§</div>
                    </div>
                    <div class="mood-option" data-mood="2" data-name="Upset" onclick="selectMood(2, 'Upset', 'üò¢')">
                        <div class="mood-emoji">üò¢</div>
                    </div>
                    <div class="mood-option" data-mood="3" data-name="Sad" onclick="selectMood(3, 'Sad', 'üòî')">
                        <div class="mood-emoji">üòî</div>
                    </div>
                    <div class="mood-option" data-mood="4" data-name="Neutral" onclick="selectMood(4, 'Neutral', 'üòê')">
                        <div class="mood-emoji">üòê</div>
                    </div>
                    <div class="mood-option" data-mood="5" data-name="Calm" onclick="selectMood(5, 'Calm', 'üòå')">
                        <div class="mood-emoji">üòå</div>
                    </div>
                    <div class="mood-option" data-mood="6" data-name="Pleasant" onclick="selectMood(6, 'Pleasant', 'üòä')">
                        <div class="mood-emoji selected">üòä</div>
                        <div class="mood-name">Pleasant</div>
                    </div>
                    <div class="mood-option" data-mood="7" data-name="Happy" onclick="selectMood(7, 'Happy', 'üòÑ')">
                        <div class="mood-emoji">üòÑ</div>
                    </div>
                </div>

                <!-- Note Section -->
                <div class="mood-note-section">
                    <label for="moodNote" class="note-label">
                        <span class="note-icon">üìù</span>
                        Ghi ch√∫ c·ªßa ng√†y
                    </label>
                    <textarea 
                        id="moodNote" 
                        class="mood-note-input" 
                        placeholder="Vi·∫øt ghi ch√∫ v·ªÅ ng√†y h√¥m nay..."
                        rows="4"
                        onblur="saveCurrentMood()"></textarea>
                    
                    <button class="delete-mood-btn" onclick="deleteMood()" id="deleteMoodBtn" style="display: none;">
                        <span class="delete-icon">üóëÔ∏è</span>
                        X√≥a c·∫£m x√∫c & ghi ch√∫
                    </button>
                </div>
            </div>

            <!-- Mood Trend Chart -->
            <div class="mood-trend-section">
                <div class="trend-header">
                    <h3 class="trend-title">December Mood Trend</h3>
                    <div class="trend-average">
                        Average: <span class="avg-emoji">üòä</span>
                    </div>
                </div>
                <div class="trend-chart">
                    <div class="chart-y-axis">
                        <div class="y-label">üòÑ</div>
                        <div class="y-label"></div>
                        <div class="y-label"></div>
                        <div class="y-label"></div>
                        <div class="y-label">üò§</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="moodChart" width="400" height="150"></canvas>
                    </div>
                </div>
                <div class="chart-x-axis">
                    <span>1</span>
                    <span>31</span>
                </div>
            </div>

            <!-- History Journal Section -->
            <div class="history-journal-section">
                <div class="journal-header">
                    <h3 class="journal-title">üìñ L·ªãch s·ª≠ nh·∫≠t k√Ω</h3>
                    <button class="journal-toggle-btn" onclick="toggleJournalView()" id="journalToggleBtn">
                        <span id="journalToggleText">Hi·ªÉn th·ªã t·∫•t c·∫£</span>
                    </button>
                </div>
                <div class="journal-list" id="journalList">
                    <!-- Journal entries will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="/modules/daily/daily.js"></script>
    <script>
        // Initialize daily tab on load
        window.addEventListener('load', () => {
            initDailyTab();
        });
    </script>
</body>
</html>
